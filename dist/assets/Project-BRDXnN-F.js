import{K as h,r as V,M as w,q as _,b as D,e as n,f,m as e,y as l,N as M,O as N,z as i,P as d,F as S,Q as T,j as c,E as r,D as g,g as v}from"./index-BlCUlzV6.js";import{_ as B}from"./PageWrapper-DTMdDcJF.js";import{P as F}from"./Report_manager-B8b6dXNW.js";import{u as U}from"./useTaskManger-CPlC2F5C.js";import{a as z}from"./tasks-BvUq67hy.js";const E={class:"ag-format-container"},O={key:0,class:"project-form-container"},$={class:"project-form"},q={class:"form-group"},I={class:"form-group"},K={class:"form-group"},L={class:"projects-container"},Q=["onClick"],R={class:"ag-courses-item_link"},A={class:"ag-courses-item_title"},G={style:{color:"aliceblue","z-index":"5"}},H={class:"ag-courses-item_date-box"},J={class:"ag-courses-item_date"},W={class:"ag-courses-item_date"},ae={__name:"Project",setup(X){const{projects:j}=F(),k=h(),a=V(!1),s=w({project_name:"",description:"",department:1,assigned:1,start_date:new Date().toISOString(),end_date:""}),x=m=>{k.push({name:"ProjectTasks",params:{projectId:m}})},{formatDate:p}=U(),u=()=>{a.value=!a.value},b=()=>{if(!s.project_name){alert("Введите название проекта");return}if(!s.end_date){alert("Выберите дату окончания проекта");return}z({...s}),s.project_name="",s.description="",s.end_date="",a.value=!1};return(m,t)=>{const P=_("Search"),y=_("el-icon");return n(),D(B,null,{default:f(()=>[e("div",E,[e("a",{href:"#",onClick:N(u,["prevent"])},t[3]||(t[3]=[e("h1",{class:"text-xl font-semibold leading-tight",style:{display:"flex","justify-content":"right",padding:"10px"}},"Добавить Проект + ",-1)])),a.value?(n(),l("div",O,[e("div",$,[t[7]||(t[7]=e("h2",{class:"form-title"},"Новый проект",-1)),e("div",q,[t[4]||(t[4]=e("label",null,"Название проекта",-1)),i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.project_name=o),type:"text",placeholder:"Введите название проекта"},null,512),[[d,s.project_name]])]),e("div",I,[t[5]||(t[5]=e("label",null,"Описание",-1)),i(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.description=o),placeholder:"Введите описание проекта"},null,512),[[d,s.description]])]),e("div",K,[t[6]||(t[6]=e("label",null,"Дата окончания",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.end_date=o),type:"date"},null,512),[[d,s.end_date]])]),e("div",{class:"form-actions"},[e("button",{onClick:b,class:"save-btn"},"Сохранить"),e("button",{onClick:u,class:"cancel-btn"},"Отмена")])])])):M("",!0)]),e("div",L,[(n(!0),l(S,null,T(c(j),(o,C)=>(n(),l("div",{key:C},[e("div",{class:"ag-courses_item",onClick:Y=>x(o.id)},[e("div",R,[t[10]||(t[10]=e("div",{class:"ag-courses-item_bg"},null,-1)),e("div",A," Проект: "+r(o.project_name),1),e("p",G,r(o.description),1),e("div",H,[t[8]||(t[8]=g(" Начало: ")),e("span",J,r(c(p)(o.start_date)),1),t[9]||(t[9]=g(" Конец: ")),e("span",W,r(c(p)(o.end_date)),1),v(y,null,{default:f(()=>[v(P)]),_:1})])])],8,Q)]))),128))])]),_:1})}}};export{ae as default};
